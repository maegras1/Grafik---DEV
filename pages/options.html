<h1>Opcje Aplikacji</h1>

<div class="options-container">
    <!-- Panel lewy: Lista pracowników -->
    <div class="employee-list-panel">
        <h2>Zarządzaj pracownikami</h2>
        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="employeeSearchInput" class="search-input" placeholder="Wyszukaj pracownika..." />
        </div>
        <div id="employeeListContainer" class="employee-list-container">
            <!-- Lista pracowników zostanie wstrzyknięta tutaj przez JS -->
        </div>
        <button id="addEmployeeBtn" class="action-btn primary" style="width: 100%; margin-top: 15px;">
            <i class="fas fa-plus"></i> Dodaj nowego pracownika
        </button>
    </div>

    <!-- Panel prawy: Szczegóły i edycja -->
    <div class="employee-details-panel">
        <div id="detailsPlaceholder" class="details-placeholder">
            <i class="fas fa-arrow-left"></i>
            <p>Wybierz pracownika z listy, aby zobaczyć szczegóły i opcje edycji.</p>
        </div>

        <div id="detailsEditForm" class="details-edit-form" style="display: none">
            <!-- Sekcja: Dane podstawowe -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-user-edit"></i> Dane podstawowe</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="employeeFirstNameInput">Imię</label>
                        <input type="text" id="employeeFirstNameInput" placeholder="np. Jan" />
                    </div>
                    <div class="form-group">
                        <label for="employeeLastNameInput">Nazwisko</label>
                        <input type="text" id="employeeLastNameInput" placeholder="np. Kowalski" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="employeeDisplayNameInput">Nazwa wyświetlana</label>
                    <input type="text" id="employeeDisplayNameInput" placeholder="np. Jan K." />
                    <span class="field-hint">Ta nazwa będzie widoczna w grafiku i na liście urlopów</span>
                </div>
                <div class="form-group">
                    <label for="employeeNumberInput">Numer pracownika</label>
                    <input type="text" id="employeeNumberInput" placeholder="np. 001" />
                </div>
            </div>

            <!-- Sekcja: Urlopy -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-umbrella-beach"></i> Urlopy</h3>
                <div class="form-group">
                    <label for="leaveEntitlementInput">Urlop należny w roku</label>
                    <div class="input-with-suffix">
                        <input type="number" id="leaveEntitlementInput" min="0" value="26" />
                        <span class="input-suffix">dni</span>
                    </div>
                    <span class="field-hint">Urlop zaległy możesz edytować w podsumowaniu rocznym na stronie urlopów</span>
                </div>
            </div>

            <!-- Sekcja: Ustawienia -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-cog"></i> Ustawienia</h3>
                <div class="checkbox-group">
                    <div class="form-group form-group-checkbox" data-tooltip="Administratorzy mają pełny dostęp do edycji grafiku, urlopów i ustawień wszystkich pracowników">
                        <input type="checkbox" id="employeeRoleAdmin" />
                        <label for="employeeRoleAdmin">
                            <i class="fas fa-key checkbox-icon"></i>
                            Administrator
                        </label>
                        <span class="tooltip-indicator"><i class="fas fa-info-circle"></i></span>
                    </div>
                    <div class="form-group form-group-checkbox" data-tooltip="Pracownik nie będzie widoczny w grafiku, ale zachowa wszystkie dane w systemie">
                        <input type="checkbox" id="employeeIsHidden" />
                        <label for="employeeIsHidden">
                            <i class="fas fa-eye-slash checkbox-icon"></i>
                            Ukryty w grafiku
                        </label>
                        <span class="tooltip-indicator"><i class="fas fa-info-circle"></i></span>
                    </div>
                    <div class="form-group form-group-checkbox" data-tooltip="Pracownik widoczny tylko w Grafiku - nie pojawia się w urlopach ani podsumowaniach (tzw. skoczek)">
                        <input type="checkbox" id="employeeIsScheduleOnly" />
                        <label for="employeeIsScheduleOnly">
                            <i class="fas fa-running checkbox-icon"></i>
                            Tylko w grafiku
                        </label>
                        <span class="tooltip-indicator"><i class="fas fa-info-circle"></i></span>
                    </div>
                </div>
            </div>

            <!-- Sekcja: Przypisanie konta -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-link"></i> Przypisanie konta</h3>
                <div class="form-group">
                    <label for="employeeUidInput">Przypisany użytkownik (UID)</label>
                    <div class="uid-input-group">
                        <input type="text" id="employeeUidInput" readonly placeholder="Brak przypisanego użytkownika" />
                        <div class="uid-actions">
                            <button id="assignUidBtn" class="action-btn secondary" title="Przypisz swoje konto do tego pracownika">
                                <i class="fas fa-user-plus"></i> Przypisz do mnie
                            </button>
                            <button id="clearUidBtn" class="action-btn danger" title="Usuń przypisanie konta">
                                <i class="fas fa-unlink"></i>
                            </button>
                        </div>
                    </div>
                    <span class="field-hint">Przypisanie konta pozwala pracownikowi na logowanie się i edycję własnego grafiku</span>
                </div>
            </div>

            <!-- Sticky footer z przyciskami akcji -->
            <div class="form-actions-footer">
                <button id="saveEmployeeBtn" class="action-btn primary">
                    <i class="fas fa-save"></i> Zapisz zmiany
                </button>
                <button id="deleteEmployeeBtn" class="action-btn danger">
                    <i class="fas fa-trash-alt"></i> Usuń pracownika
                </button>
            </div>
        </div>
    </div>

    <div id="deleteConfirmationModal" class="modal-overlay" style="display: none">
        <div class="modal-content">
            <h2 class="modal-title">Potwierdź usunięcie</h2>
            <p>
                Czy na pewno chcesz trwale usunąć pracownika <strong id="employeeNameToDelete"></strong>? Ta operacja
                jest nieodwracalna.
            </p>
            <p>Aby potwierdzić, wpisz nazwę pracownika w polu poniżej:</p>
            <div class="form-group">
                <input type="text" id="deleteConfirmationInput" autocomplete="off" />
            </div>
            <div class="modal-actions">
                <button id="confirmDeleteBtn" class="action-btn danger" disabled>Usuń trwale</button>
                <button id="cancelDeleteBtn" class="action-btn outline">Anuluj</button>
            </div>
        </div>
    </div>

    <div class="backup-container">
        <h2>Kopia zapasowa</h2>
        <div class="backup-controls">
            <button id="createBackupBtn" class="action-btn secondary"><i class="fas fa-save"></i> Utwórz kopię
                zapasową</button>
            <button id="restoreBackupBtn" class="action-btn outline">
                <i class="fas fa-undo"></i> Przywróć z kopii zapasowej
            </button>
        </div>
        <div class="backup-info">
            <p>Ostatnia kopia zapasowa: <span id="lastBackupDate">Nigdy</span></p>
        </div>
    </div>

    <div id="restoreConfirmationModal" class="modal-overlay" style="display: none">
        <div class="modal-content">
            <h2 class="modal-title">Potwierdź przywrócenie danych</h2>
            <p>
                Czy na pewno chcesz przywrócić dane z ostatniej kopii zapasowej?
                <strong>Ta operacja nadpisze wszystkie aktualne dane w grafiku i urlopach.</strong> Ta operacja jest
                nieodwracalna.
            </p>
            <p>Aby potwierdzić, wpisz "PRZYWRÓĆ" w polu poniżej:</p>
            <div class="form-group">
                <input type="text" id="restoreConfirmationInput" autocomplete="off" />
            </div>
            <div class="modal-actions">
                <button id="confirmRestoreBtn" class="action-btn danger" disabled>Przywróć dane</button>
                <button id="cancelRestoreBtn" class="action-btn outline">Anuluj</button>
            </div>
        </div>
    </div>
</div>